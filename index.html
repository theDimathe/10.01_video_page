<!doctype html>
<html lang="ru">
  <head>
    

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M7698JD7');</script>


<script>
  window.dopwaLayer = window.dopwaLayer || [];
  window.dpData = function () {
    window.dopwaLayer.push(arguments);
  };
  window.dpData('class', 'btnDoPwa'); // class element

</script>
    
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  
  <body>

    
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M7698JD7"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


    
    <main class="page">
      <section class="video-frame" aria-label="promo-video">
        <video
          class="video-frame__media"
          autoplay
          loop
          muted
          playsinline
          poster="source/video-poster.jpg"
          id="hero-video"
        >
          <source src="source/promo-video.mp4" type="video/mp4" />
          Sorry =( </br> Here must be vieo, but your browser cant show this. </br> But you can go to next step!
        </video>


        <script>
window.dataLayer = window.dataLayer || [];

(function () {
  const CHECKPOINTS = [20, 40, 60, 90];

  function initVideoTracking(video) {
    const fired = {
      start: false,
      checkpoints: {},
      complete: false
    };

    CHECKPOINTS.forEach(sec => fired.checkpoints[sec] = false);

    function pushEvent(name, extra = {}) {
      dataLayer.push({
        event: name,
        video_src: video.currentSrc || video.src,
        video_duration: Math.round(video.duration || 0),
        video_current_time: Math.round(video.currentTime || 0),
        ...extra
      });
    }

    video.addEventListener('play', () => {
      if (!fired.start) {
        fired.start = true;
        pushEvent('video_start');
      }
    });

    video.addEventListener('timeupdate', () => {
      if (!video.duration || isNaN(video.duration)) return;

      CHECKPOINTS.forEach(sec => {
        if (
          video.currentTime >= sec &&
          !fired.checkpoints[sec]
        ) {
          fired.checkpoints[sec] = true;
          pushEvent(`video_watch_${sec}s`, {
            video_checkpoint: sec
          });
        }
      });
    });

    video.addEventListener('ended', () => {
      if (!fired.complete) {
        fired.complete = true;
        pushEvent('video_complete');
      }
    });

    
    video.addEventListener('ended', () => {
  dataLayer.push({
    event: 'video_watch_end',
    watched_seconds: Math.floor(video.currentTime)
  });
});

    video.addEventListener('pause', () => {
  dataLayer.push({
    event: 'video_pause',
    pause_second: Math.floor(video.currentTime)
  });
});



    
  }

  function scanVideos() {
    document.querySelectorAll('video').forEach(video => {
      if (!video.__gaTracked) {
        video.__gaTracked = true;
        initVideoTracking(video);
      }
    });
  }


  scanVideos();

 
  const observer = new MutationObserver(scanVideos);
  observer.observe(document.body, { childList: true, subtree: true });
})();
</script>


        
        <button class="video-frame__play-button is-hidden" type="button" id="play-overlay" aria-label="–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –≤–∏–¥–µ–æ" aria-hidden="true">
          ‚ñ∂
        </button>




        
        <div class="video-frame__controls" aria-label="Controls">
          <button class="icon-button" type="button" id="mute-toggle" aria-label="Soun off">
            üîä
          </button>
          <button class="icon-button" type="button" id="restart-video" aria-label="Play again">
            üîÅ
          </button>
        </div>
      </section>

      <section class="cta" aria-label="–°Download app">
        <p class="cta__timer" aria-live="polite">
          Offer ends in ¬∑ <span id="countdown">03:22:00</span>
        </p>
        <button class="cta__button btnDoPwa" type="button" id="download-button" disabled>
          <span>download now</span>
        </button>
      </section>
      <p class="version">v0.0.9</p>
    </main>

    <script src="script.js"></script>
  </body>
</html>
